(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[138],{1003:function(e,t,i){"use strict";(function(t){function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};if(t%2){n(Object(i),true).forEach((function(t){a(e,t,i[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(i))}else{n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}}return e}function a(e,t,i){if(t in e){Object.defineProperty(e,t,{value:i,enumerable:true,configurable:true,writable:true})}else{e[t]=i}return e}i(1043);i(1004);i(1005);i(661);var o=i(17);var r=i(1055);var l=i(1056);var c=i(1057);var u=i(1006);var d=i(546);var h=i(837);var f=i(798);var p=i(1058);var g=i(1062);var b=i(1065);var m=i(775);var v=i(578);var _=i(868);var y=i(1069);var w=i(552);var x=i(555);var k=i(881);var C=i(659);e.exports=d.extend({name:"SignupView",el:false,template:c,mode:"default",isFullPage:false,advantagesAnimation:true,invalidClassName:"",activeTab:"personal",isArrowShown:true,isAutoFocusAllowed:true,isBusinessAllowed:false,shouldShowHeading:true,events:{"click ._submit":"onSubmit","click ._sign-up-email":"onSignUpEmailClick","click ._back":"onBackClick","click ._social-condition":"onSocialConditionClick","click ._login":"handleLoginClick"},initialize:function e(t){this.model=new _({refUser:t.app.userSettings.get("refUser")},{app:this.app});this.listenTo(this.model,{request:this.onModelRequest,sync:this.onModelSyncComplete,change:this.onModelChange});if(this.isBusinessAllowed){this.initBusinessModel(t)}},serialize:function e(){return{mode:this.mode,title:this.title||this.tr("Welcome!"),subTitle:this.subTitle,shouldShowHeading:this.shouldShowHeading,isFullPage:this.isFullPage,holidayOffer:this.holidayOffer,extendedCondition:this.app.features.isFeatureOnValue("Show Sign Up Condition"),loginLink:this.app.makeUrl("login",{protocol:"https:",backURL:true}),altAuthLink:this.app.makeUrl("login",{protocol:"https:",query:this.app.queryParams}),pictures:this.series?this.series.getImagesList():{},advantagesAnimation:this.advantagesAnimation,authSocialTitle:this.tr("or Sign Up Using"),isBusinessAllowed:this.isBusinessAllowed&&["default","email","business"].includes(this.mode),isArrowShown:this.isArrowShown}},prepareRender:function e(){this.renderSignupForm()},clientAfterRender:function e(){if(this.isFullPage){this.initForm();this.initSocial()}else if(["email","business"].includes(this.mode)){this.initForm()}else if(!["social-email","social-condition"].includes(this.mode)){this.initSocial()}this.initHolidayTimer()},initBusinessModel:function e(t){this.businessModel=new y({refUser:t.app.userSettings.get("refUser")},{app:this.app});this.listenTo(this.businessModel,{request:this.onModelRequest,sync:this.onModelSyncComplete,change:this.onModelChange})},initForm:function e(){this.$submit=this.$("._submit");if(this.isAutoFocusAllowed){this.$("._email-field").focus()}w(this.$el,o.$);x(this.$submit);k({$button:o.$('<i class="password-switcher">'+this.tr("Show")+"</i>"),$target:this.$("._password"),text:{show:this.tr("Show"),hide:this.tr("Hide")}})},initSocial:function e(){this.socialLoginer=new C(s({app:this.app,el:this.el},this.authCallbacks));this.socialLoginer.setLang(this.app.lang);this.socialLoginer.injectFacebookScript();this.socialLoginer.injectGoogleScript();this.socialLoginer.setAccessCondition(this.checkSocialAccess.bind(this))},initHolidayTimer:function e(){var t=this;if(!this.banner){return}var i=this.banner.get("components"),n=i.timer;if(n){this.setViews({"._timer":new h({app:this.app,distance:n.distance,format:n.format,shouldShowLabels:true,finishCallback:function e(){return t.banner.fetch()}})})}},checkSocialAccess:function e(){var t=this.model.validate();if(t){this.getView("._condition").showErrors(this.model,t)}return this.model.get("membership_agreement")},renderSignupForm:function e(){var t=this;var i={};if(!this.holidayOffer){i["._advantages"]=new b({mode:this.mode,useLightStyle:!this.isFullPage,app:this.app,runAnimation:this.advantagesAnimation})}if(this.mode==="email"){i["._form"]=new f(s({app:this.app,template:r,model:this.model,submitButton:this.submitButton},this.authCallbacks))}else if(this.mode==="social-email"){i["._form"]=new p({app:this.app,onSuccessCallback:this.onSuccessCallback})}else if(this.mode==="business"){i["._form"]=new g({app:this.app,model:this.businessModel})}else{i["._social"]=new d({el:false,app:this.app,template:l})}if(this.mode!=="social-email"){i["._condition"]=new m({app:this.app,signUpModel:this.mode==="business"?this.businessModel:this.model,onErrorCallback:this.onError.bind(this)})}if(this.isBusinessAllowed){i["._tabs"]=new v({name:"SignupTabs",app:this.app,template:u,schema:this.getTabsSchema(),preventDefaultAction:true,menuUnderline:true,changeTabCallback:function e(){return t.changeTabCallback()}})}this.setViews(i)},getTabsSchema:function e(){return[{key:"personal",title:this.tr("Personal Use"),active:this.activeTab==="personal"},{key:"business",title:this.tr("Business Use"),active:this.activeTab==="business"}]},changeTabCallback:function e(){var t=this.findView("SignupTabs").getActiveTab();this.activeTab=t.get("key");this.advantagesAnimation=false;if(this.activeTab==="business"){this.previousMode=this.mode;this.mode="business"}else{this.mode=this.previousMode}this.app.observer.broadcast("Track:UE:SignUp:Business",{action:"Tabs",isBusiness:this.activeTab==="business"});this.render()},onModelRequest:function e(){if(t.browser){this.$submit.trigger("loading")}},onModelSyncComplete:function e(i,n){if(t.browser){this.$submit.trigger("loaded")}},onModelChange:function e(){this.$el.removeClass(this.invalidClassName)},onSubmit:function e(t){t.preventDefault();this.getView("._form").submit()},onSignUpEmailClick:function e(){this.mode="email";this.advantagesAnimation=false;this.render()},onBackClick:function e(){this.mode="default";this.advantagesAnimation=false;this.render()},onSocialConditionClick:function e(){if(this.checkSocialAccess()){this.onSuccessCallback()}},handleLoginClick:function e(t){var n=this;t.stopPropagation();t.preventDefault();Promise.all([i.e(0),i.e(137),i.e(122)]).then(function(e){var t=i(634);new t({app:n.app,formOptions:n.authCallbacks}).show();n.app.observer.fire("Modal:HideByName",{name:"SignupModal"})}.bind(null,i)).catch(i.oe)},onError:function e(){this.$el.addClass(this.invalidClassName)},onSuccessCallback:function e(){}})}).call(this,i(16))},1004:function(e,t,i){},1005:function(e,t,i){},1006:function(e,t,i){"use strict";e.exports=function e(t){var i=typeof _encodeHTML!=="undefined"?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(e==null?"":""+e).replace(i,(function(e){return t[e]||e}))}}();var n='<ul class="modern-tabs '+i(t.classNames)+'">';var s=t.scheme;if(s){var a,o=-1,r=s.length-1;while(o<r){a=s[o+=1];n+='<li class="modern-tabs__item';if(a.active){n+=" modern-tabs__item_active _tab-active"}n+=' _tab" data-key="'+i(a.key)+'"><span class="modern-tabs__text">'+a.title+"</span></li>"}}n+='<li class="modern-tabs__menu-underline hidden _menu-underline"></li></ul>';return n}},1026:function(e,t,i){},1027:function(e,t,i){"use strict";e.exports=function e(t){var i="<div class='countdown'>";if(t.days&&t.days>0){i+='<div class="countdown-box"><span class="countdown-box__number">'+t.days+"</span>";if(t.shouldShowLabels){i+='<span class="countdown-box__number_label">'+this.tr("days")+"</span>"}i+='</div><span class="countdown-separator"></span>'}i+='<div class="countdown-box"><span class="countdown-box__number">'+t.hours+"</span>";if(t.shouldShowLabels){i+='<span class="countdown-box__number_label">'+this.tr("hours")+"</span>"}i+='</div><span class="countdown-separator"></span><div class="countdown-box"><span class="countdown-box__number">'+t.minutes+"</span>";if(t.shouldShowLabels){i+='<span class="countdown-box__number_label">'+this.tr("minutes")+"</span>"}i+='</div><span class="countdown-separator"></span><div class="countdown-box"><span class="countdown-box__number">'+t.seconds+"</span>";if(t.shouldShowLabels){i+='<span class="countdown-box__number_label">'+this.tr("seconds")+"</span>"}i+="</div></div>";return i}},1028:function(e,t,i){"use strict";var n=i(3);var s=function e(t){return t<10?"0"+t:t};e.exports={hash:{dd:"days",hh:"hours",mm:"minutes",ss:"seconds"},calculateHash:{days:function e(t){var i=t.distance,s=t.units;return n.duration(i,"seconds").asDays()},hours:function e(t){var i=t.distance,s=t.units;return s.days?n.duration(i,"seconds").hours():n.duration(i,"seconds").asHours()},minutes:function e(t){var i=t.distance,s=t.units;return s.hours?n.duration(i,"seconds").minutes():n.duration(i,"seconds").asMinutes()},seconds:function e(t){var i=t.distance,s=t.units;return s.minutes?n.duration(i,"seconds").seconds():n.duration(i,"seconds").asSeconds()}},formaterHash:{DD:s,HH:s,MM:s,SS:s}}},1043:function(e,t,i){},1055:function(e,t,i){"use strict";e.exports=function e(t){var i=typeof _encodeHTML!=="undefined"?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(e==null?"":""+e).replace(i,(function(e){return t[e]||e}))}}();var n='<form novalidate method="POST" action="'+t.links.signUp+'" name="SignupUser"><label class="signup-user__field field-box field-box_light field-box_rounded field-box_large input-box input-box-4xl _email-field"><input class="input input-4xl empty _field" type="email" name="email" autocomplete="email" /><span class="field-box__title">'+this.tr("E-mail")+' *</span></label><label class="signup-user__field signup-user__field_pwd field-box field-box_light field-box_rounded field-box_large input-box input-box-4xl"><input class="signup-user__input signup-user__input_pwd input input-4xl empty _password _field" type="password" name="password" autocomplete="new-password" /><span class="field-box__title">'+this.tr("Password")+' *</span></label><div class="signup-user__captcha g-recaptcha _captcha';if(t.captcha.show){n+=" signup-user__captcha_visible"}n+='" data-sitekey="'+i(t.captcha.siteKey)+'"></div></form>';return n}},1056:function(e,t,i){"use strict";e.exports=function e(t){var i='<div class="signup-user-box__social"><div class="signup-user-box__social-btn signup-user-box__social-btn_google _social-google">'+this.tr("Sign Up with <b>Google</b>")+'</div><div class="signup-user-box__social-btn signup-user-box__social-btn_facebook _social-facebook">'+this.tr("Sign Up with <b>Facebook</b>")+"</div></div>";return i}},1057:function(e,t,i){"use strict";e.exports=function e(t){var i=typeof _encodeHTML!=="undefined"?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(e==null?"":""+e).replace(i,(function(e){return t[e]||e}))}}();var n='<div class="signup-user signup-user_page">';if(t.shouldShowHeading){n+='<h1 class="signup-user__headline">'+this.tr("Sign Up for Free Membership")+"</h1>"}n+='<div class="signup-user__left">';if(t.holidayOffer){n+="<div class='holiday-offer'><h4 class='holiday-offer__title'>"+t.holidayOffer.title+"</h4><div class='holiday-offer__description'>"+t.holidayOffer.description+"<div class='holiday-offer__timer _timer'></div></div></div>"}else{n+='<div class="signup-user__advantages"><h4 class="signup-user__sub-title">'+this.tr("The benefits of having an Account on Depositphotos")+'</h4><div class="_advantages"></div></div>'}n+='</div><div class="signup-user__right"';if(t.pictures.rightBackground){n+=' style="background-image: url('+i(t.pictures.rightBackground)+')"'}n+=">";if(t.mode!=="social-email"){n+='<h4 class="signup-user__sub-title">';if(t.subTitle){n+=""+t.subTitle}else{n+=""+this.tr('<span class="%s">Create your Account</span> to unlock all the features of Depositphotos',"sub-text")}n+="</h4>"}if(t.isBusinessAllowed){n+='<div class="signup-user__tabs _tabs"></div>'}if(t.mode==="email"){n+='<div class="signup-user__form-box"><div class="signup-user__fields _form"></div><div class="signup-user__action"><button class="signup-user__submit-btn button button-4xl button-blue button-pill button-bold _submit" type="submit" form="SignupUser">'+this.tr("Register Account")+'</button></div><div class="signup-user__social"><div class="auth-social"><span class="auth-social__text">'+t.authSocialTitle+'</span><div class="auth-social__btn auth-social__btn_google _social-google" title="'+this.tr("Google")+'"></div><div class="auth-social__btn auth-social__btn_facebook _social-facebook" title="'+this.tr("Facebook")+'"></div></div></div></div>'}else if(t.mode==="business"){n+='<div class="signup-user__form-box signup-user__form-box_business"><div class="signup-user__fields _form"></div><div class="signup-user__action"><button class="signup-user__submit-btn button button-4xl button-blue button-pill button-bold _submit" type="submit" form="SignupBusiness">'+this.tr("Register Account")+"</button></div></div>"}else if(t.mode==="social-email"){n+='<div class="signup-user__social-fields _form"></div>'}else if(t.mode!=="social-condition"){n+='<div class="signup-user__social-box _social"></div><div class="signup-user__with-email signup-user__alt-action _sign-up-email">'+this.tr("Sign Up with <b>E-mail</b>")+"</div>"}else{n+='<div class="signup-user__btn-box"><button class="signup-user__btn button button-4xl button-blue button-pill button-bold _social-condition">'+this.tr("Register Account")+"</button></div>"}if(t.mode!=="social-email"){n+='<a class="signup-user__login signup-user__alt-action" href="'+t.altAuthLink+'">'+this.tr("Already have an account?")+' <span class="signup-user__login-link">'+this.tr("Log In")+'</span></a><div class="signup-user__condition _condition"></div>'}if(t.isArrowShown){n+='<i class="signup-user__rounded-arrow';if(t.advantagesAnimation){n+=" signup-user__rounded-arrow_animate"}if(t.mode==="business"){n+=" signup-user__rounded-arrow_left"}n+='"></i>'}n+="</div></div>";return n}},1058:function(e,t,i){"use strict";i(1059);var n=i(0);var s=i(556);var a=i(1060);var o=i(546);var r=i(1061);var l=i(554);var c=o.extend({name:"SocialEmailForm",el:false,template:a,events:{"click ._proceed-button":"onSubmit","focusin input":"onInputEvent","keypress input":"onInputEvent","focusout input":"onInputEvent","change ._field":"onUpdateField","keyup ._field":"onUpdateField","input ._field":"onUpdateField","paste ._field":"onUpdateField"},initialize:function e(){this.model=new r({},{app:this.app});this.listenTo(this.model,"invalid",this.showError)},onInputEvent:function e(t){switch(t.type){case"keypress":if((t.which||t.keyCode)===s.enter){this.onSubmit(t)}break;case"focusout":this.model.secureSet("email",t.currentTarget.value);break;case"focusin":this.fieldReset(this.$(t.currentTarget).parent());break;default:break}},showError:function e(t,i){var s=this;this.fieldReset(this.$("input").parent());n.each(i,(function(e,t){var i=n.isArray(e)?n.first(e):e;s.fieldIncorrect(s.$("input[name="+t+"]").parent(),{errorMessage:i})}))},onSubmit:function e(t){t.preventDefault();this.model.secureSet("email",this.$("input").val());if(!this.model.validationError){this.onSuccessCallback(this.model.get("email"))}},onSuccessCallback:function e(){}});n.extend(c.prototype,l);e.exports=c},1059:function(e,t,i){},1060:function(e,t,i){"use strict";e.exports=function e(t){var i='<div class="modal-social-email"><i class="modal-social-email__icon icon icon-enterprise-done"></i><span class="modal-social-email__text">'+this.tr("Please enter your primary e-mail address to complete the registration")+'</span><label class="modal-social-email__field field-box field-box_light field-box_rounded field-box_large input-box input-box-4xl"><input class="input input-4xl empty _email _field" type="email" name="email" value="" /><span class="field-box__title">'+this.tr("E-mail")+' *</span></label><button class="modal-social-email__button button button-4xl button-blue button-pill button-bold _proceed-button">'+this.tr("Complete Registration")+"</button></div>";return i}},1061:function(e,t,i){"use strict";var n=i(114);e.exports=i(2).extend({url:"socialEmail",defaults:n.SocialEmail.defaults,validation:n.SocialEmail.validation})},1062:function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};if(t%2){n(Object(i),true).forEach((function(t){a(e,t,i[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(i))}else{n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}}return e}function a(e,t,i){if(t in e){Object.defineProperty(e,t,{value:i,enumerable:true,configurable:true,writable:true})}else{e[t]=i}return e}i(1063);var o=i(1064);var r=i(798);var l=i(577);e.exports=r.extend({name:"SignupBusinessForm",el:false,template:o,events:s({},r.prototype.events,{"blur ._field":"handleFieldBlur","blur .phonenumber-an":"handleFieldBlur"}),prepareRender:function e(){this.setView("._phone",new l({app:this.app,phone:this.app.user.get("phone")}))},clientAfterRender:function e(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r.prototype.clientAfterRender.apply(this,i);this.$("._field:first").focus()},handleFieldBlur:function e(t){if(t.currentTarget.value.length===0){return}this.app.observer.broadcast("Track:UE:SignUp:Business",{action:"Field",label:t.currentTarget.name||t.currentTarget.dataset.name})},getFieldElForError:function e(t){var i;if(t==="phone"){i=this.$("._phone")}else{i=this.$('[name="'+t+'"]')}return i.parent()},trackAuthResponse:function e(t){var i=t.userId;this.app.observer.broadcast("Track:UE:SignUp:Success",{userId:i,action:"Form",label:"Business"})}})},1063:function(e,t,i){},1064:function(e,t,i){"use strict";e.exports=function e(t){var i=typeof _encodeHTML!=="undefined"?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(e==null?"":""+e).replace(i,(function(e){return t[e]||e}))}}();var n='<form class="signup-business" method="POST" action="'+t.links.signUp+'" name="SignupBusiness" novalidate><label class="signup-business__field field-box field-box_rounded input-box input-box-xxxl"><input class="input input-xxxl _field" type="text" name="firstName" placeholder="'+this.tr("Full Name")+'" /></label><label class="signup-business__field signup-business__field_half field-box field-box_rounded input-box input-box-xxxl"><input class="input input-xxxl _field" type="email" name="email" autocomplete="email" placeholder="'+this.tr("Company E-mail")+'" /></label><label class="signup-business__field signup-business__field_half signup-user__field_pwd field-box field-box_rounded input-box input-box-xxxl"><input class="input input-xxxl _password _field" type="password" name="password" autocomplete="new-password" placeholder="'+this.tr("Password")+'" /></label><label class="signup-business__field signup-business__field_half field-box field-box_rounded input-box input-box-xxxl"><input class="input input-xxxl _field" type="text" name="businessName" placeholder="'+this.tr("Company Name")+'" /></label><div class="signup-business__field signup-business__field_half field-box field-box_rounded input-box input-box-xxxl"><div class="_phone"><input class="input input-xxxl _field" type="tel" name="phone" placeholder="'+this.tr("Phone Number")+'" /></div></div><div class="signup-business__captcha g-recaptcha _captcha';if(t.captcha.show){n+=" signup-business__captcha_visible"}n+='" data-sitekey="'+i(t.captcha.siteKey)+'"></div></form>';return n}},1065:function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};if(t%2){n(Object(i),true).forEach((function(t){a(e,t,i[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(i))}else{n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}}return e}function a(e,t,i){if(t in e){Object.defineProperty(e,t,{value:i,enumerable:true,configurable:true,writable:true})}else{e[t]=i}return e}i(1066);var o=i(1067);var r=i(546);var l=i(750);var c=i(1068);var u=i(24);var d=.4;var h=300;var f="fadeInDown";var p=r.extend({name:"SignupAdvantages",el:false,template:o,mode:"default",runAnimation:true,useLightStyle:false,initialize:function e(){this.stats=new l(s({},this.app.stats.formatLegacy()),{app:this.app,parse:true});this.listenTo(this.stats,"change",this.render)},clientAfterRender:function e(){var t=this;if(this.runAnimation){setTimeout((function(){return t.animate(t.$("._item"),0)}),h)}else{this.$("._item").css({opacity:1})}},animate:function e(t,i){var n=this;var s={onShow:true,showSpeed:d,showMethod:f};if(i<=t.length-1){var a=this.$(t[i]);this.animatedShow(a,s,(function(){n.animate(t,i+1);a.css({opacity:1});n.removeAnimatedClassNames(a)}))}},serialize:function e(){return{useLightStyle:this.useLightStyle,advantages:this.getAdvantages()}},getAdvantages:function e(){var t=this.stats.get("customers");var i={default:[{text:this.tr("Use Favorites for your projects. Create folders and share them with your friends and colleagues."),icon:"icon-advantage-favorite"},{text:this.tr("Add items to your Cart so you can buy them later."),icon:"icon-advantage-cart"},{text:this.tr("Take part in our Referral Program and get 15% from every purchase made by your friends."),icon:"icon-advantage-referral"},{text:this.tr("And lots of other offers! More than %s customers have rated our service highly.",u.numberFormat(t)),icon:"icon-advantage-rating"}],business:[{text:this.tr("<b>Business Use.</b> Purchase of the business plan allows you to use images as a company for corporate communication and outreach."),icon:"icon-usd-board"},{text:this.tr("<b>Full Control.</b> Sub-accounts with the ability to control, track, and analyze team downloads."),icon:"icon-analytics"},{text:this.tr("<b>Personalized Approach.</b> A dedicated manager will help you to customize a plan to meet all your needs and provide additional support and guidance."),icon:"icon-user-circle"},{text:this.tr("<b>Stress-Free Licensing.</b> Royalty-Free Images for print and digital use, merchandise, and advertising for your business."),icon:"icon-image"}]};if(this.app.features.isFeatureOnValue("Is cart hidden")){i.default=[i.default[0]].concat(i.default.slice(2))}return i[this.mode]||i.default}});Object.assign(p.prototype,c);e.exports=p},1066:function(e,t,i){},1067:function(e,t,i){"use strict";e.exports=function e(t){var i=typeof _encodeHTML!=="undefined"?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(e==null?"":""+e).replace(i,(function(e){return t[e]||e}))}}();var n='<div class="advantages advantages_animated';if(t.useLightStyle){n+=" advantages_light"}n+='">';var s=t.advantages;if(s){var a,o=-1,r=s.length-1;while(o<r){a=s[o+=1];n+='<span class="advantages__item _item"><i class="advantages__icon icon '+i(a.icon)+'"></i><span class="advantages__text">'+a.text+"</span></span>"}}n+="</div>";return n}},1068:function(e,t,i){"use strict";var n=i(0);var s="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";e.exports={getAnimationDefaults:function e(){return{onShow:false,onHide:false,showMethod:"fadeIn",hideMethod:"fadeOut",showSpeed:.6,hideSpeed:.1}},setParams:function e(t,i){this.animation=n.extend({},this.getAnimationDefaults(),this.animation,i||{})},animatedShow:function e(t,i,n){var a,o=this;var r=t;for(var l=arguments.length,c=new Array(l>3?l-3:0),u=3;u<l;u++){c[u-3]=arguments[u]}(a=this.setParams).call.apply(a,[this,r,i,n].concat(c));if(!r){r=this.$el}if(this.animation.onShow){r.css({"animation-duration":this.animation.showSpeed+"s"});r.addClass(this.animation.showMethod+" animated").one(s,(function(){if(n){n.apply(o)}}))}else if(n){n.apply(this)}},animatedHide:function e(t,i,n){var a,o=this;var r=t;for(var l=arguments.length,c=new Array(l>3?l-3:0),u=3;u<l;u++){c[u-3]=arguments[u]}(a=this.setParams).call.apply(a,[this,r,i,n].concat(c));if(!r){r=this.$el}if(this.animation.onHide){r.css({"animation-duration":this.animation.hideSpeed+"s"});r.addClass(this.animation.hideMethod+" animated").one(s,(function(){if(n){n.apply(o)}}))}else if(n){n.apply(this)}},removeAnimatedClassNames:function e(t){var i=t;if(!i){i=this.$el}i.removeClass(this.animation.showMethod+" "+this.animation.hideMethod+" animated")}}},1069:function(e,t,i){"use strict";var n=i(124);var s=i(23),a=s.validationMessages;var o=i(565);e.exports=o.extend({url:"SignupBusiness",isHttps:true,defaults:{email:"",password:"",firstName:"",phone:"",businessType:"",businessName:"","g-recaptcha-response":"",refUser:undefined,"10_pkuid":undefined,"10_gruid":undefined,"10_ssaid":undefined,"10_grsid":undefined,cpn:undefined,__utmz:undefined,signup_type:undefined,unbounce_url:undefined,membership_agreement:true},errorsMap:{2e3:"email",2006:"email",2004:"password",2009:"password",2013:"password",2039:"phone",byDefault:"email"},validation:{email:[{required:true,msg:true}].concat(n.email.slice(1)),password:[{required:true,msg:true}].concat(n.password.slice(1)),membership_agreement:{acceptance:true,msg:a.find((function(e){return e.key==="membershipAgreement"})).label}}})},1763:function(e,t,i){"use strict";e.exports=function e(t){var i=typeof _encodeHTML!=="undefined"?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(e==null?"":""+e).replace(i,(function(e){return t[e]||e}))}}();var n='<div class="phonenumber"><div class="phonenumber-container"><div class="phonenumber-cell phonenumber-cell-left"><select class="phonenumber-cc hidden" tabindex="-1" style="visibility: hidden;"><option></option>';var s=t.countries;if(s){var a,o=-1,r=s.length-1;while(o<r){a=s[o+=1];n+='<option value="'+i(a.code)+'"data-cc="'+i(a.phoneCode)+'"data-flag="'+i(a.flag)+'" ';if(a.selected){n+=' selected="selected"'}n+=">"+i(a.title)+"</option>"}}n+='</select><span class="select2 select2-container select2-container--phonenumber select2-container--below select2-container--open _select-placeholder"><span class="selection"><span class="select2-selection select2-selection--single"><span class="select2-selection__rendered"><i class="callingcodeselector-cc callingcodeselector-cc-selection">+'+i(t.selectedCountry.phoneCode)+'</i><i class="callingcodeselector-flag callingcodeselector-flag-selection flag '+i(t.selectedCountry.flag)+'"></i></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span></span><input class="phonenumber-cc-value" type="hidden"></div><div class="phonenumber-cell phonenumber-cell-right"><input class="phonenumber-an" type="tel" data-name="phone" maxlength="15" placeholder="'+this.tr("Phone");if(t.required){n+=" *"}n+='" value="'+i(t.phone)+'"></div></div><input type="hidden" name="'+i(t.phoneFieldName)+'"></div>';return n}},1764:function(e,t,i){},2790:function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};if(t%2){n(Object(i),true).forEach((function(t){a(e,t,i[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(i))}else{n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}}return e}function a(e,t,i){if(t in e){Object.defineProperty(e,t,{value:i,enumerable:true,configurable:true,writable:true})}else{e[t]=i}return e}i(1043);var o=i(556);var r=i(2791);var l=i(835);var c=i(1003);var u=i(764);e.exports=l.extend(s({},u,{name:"SignupModal",animation:{onShow:true},showTitle:false,roundCloseButton:true,destroyOnHide:true,modalClasses:"modal_signup modal_with-poster",modalAttrs:"tabindex=0",bodyClasses:"modal__body_signup",footer:[],escKeys:[o.esc],initialize:function e(){this.body=[new c({template:r,app:this.app,mode:this.mode||"default",title:this.title,subTitle:this.getSubTitle(),invalidClassName:"signup-user_invalid",onSuccessCallback:this.onSuccessCallback,isBusinessAllowed:this.app.features.getValueArray("Business registration allowed routes").includes(this.app.router.routeName),authCallbacks:this.authCallbacks})];for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}l.prototype.initialize.apply(this,i)},getSubTitle:function e(){var t=this.app.store.get("FileForFavorite");if(t){var i=t.get("type")==="video"?this.tr('<span class="%s">Create your Account</span> to add this video to your Favorites',"sub-text"):this.tr('<span class="%s">Create your Account</span> to add this image to your Favorites',"sub-text");this.app.store.unlink("FileForFavorite");return i}var n=this.isMobileModeEnabled()&&this.app.features.isFeatureNotEmpty("Free trial membership")?this.tr("Create an account to download %s images for free with a %s-day trial",[10,7]):"";return n||this.subTitle||this.tr('<span class="%s">Create your Account</span> to unlock all the features of Depositphotos',"sub-text")},onSuccessCallback:function e(){}}))},2791:function(e,t,i){"use strict";e.exports=function e(t){var i=typeof _encodeHTML!=="undefined"?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(e==null?"":""+e).replace(i,(function(e){return t[e]||e}))}}();var n='<div class="signup-user signup-user_modal"><div class="signup-user__left"><div class="signup-user__advantages"><h4 class="signup-user__sub-title">'+this.tr("The benefits of having an Account on Depositphotos")+'</h4><div class="_advantages"></div></div></div><div class="signup-user__right"> ';if(t.mode!=="social-email"){n+=' <span class="signup-user__title"> '+i(t.title)+' </span> <h4 class="signup-user__sub-title signup-user__sub-title_normal"> '+t.subTitle+" </h4> "}n+=" ";if(t.isBusinessAllowed){n+=' <div class="signup-user__tabs _tabs"></div> '}n+=" ";if(t.mode==="email"){n+=' <i class="signup-user__back icon icon-previous-step icon-round-hover _back"></i> <div class="signup-user__form-box"> <div class="signup-user__fields _form"></div> <div class="signup-user__action"> <button class="signup-user__submit-btn button button-4xl button-blue button-pill button-bold _submit" type="submit" form="SignupUser"> '+this.tr("Register Account")+" </button> </div> </div> "}else if(t.mode==="business"){n+=' <div class="signup-user__form-box signup-user__form-box_business"> <div class="signup-user__fields _form"></div> <div class="signup-user__action"> <button class="signup-user__submit-btn button button-4xl button-blue button-pill button-bold _submit" type="submit" form="SignupBusiness"> '+this.tr("Register Account")+" </button> </div> </div> "}else if(t.mode==="social-email"){n+=' <div class="signup-user__social-fields _form"></div> '}else if(t.mode!=="social-condition"){n+=' <div class="signup-user__social-box _social"></div> <div class="signup-user__with-email signup-user__alt-action _sign-up-email"> '+this.tr("Sign Up with <b>E-mail</b>")+" </div> "}else{n+=' <div class="signup-user__btn-box"> <button class="signup-user__btn button button-4xl button-blue button-pill button-bold _social-condition"> '+this.tr("Register Account")+" </button> </div> "}n+=" ";if(t.mode!=="social-email"){n+=' <a class="signup-user__login signup-user__alt-action _login" href="'+t.loginLink+'"> '+this.tr("Already have an account?")+' <span class="signup-user__login-link">'+this.tr("Log In")+'</span> </a> <div class="signup-user__condition _condition"></div> '}n+="</div></div>";return n}},554:function(e,t,i){"use strict";var n=i(738).spinner;var s=i(0);var a=i(737);var o=i(24);e.exports={fieldCorrect:function e(t,i){this.fieldReset(t,i);t.addClass("field-box_correct").removeClass("field-box_label-text")},fieldIncorrect:function e(t,i){if(i===void 0){i={}}this.fieldReset(t,i);if(!i.msgOnly){t.addClass("field-box_incorrect").removeClass("field-box_label-text");t.find(".field-box__right-elem").addClass("hidden")}if(typeof i.errorMessage==="string"){var n='<span class="field-box__error" data-id="'+this.getContextId(t)+'">'+(this.tr(i.errorMessage)+"</span>");this.getErrorHolder(t,i).append(n)}this.fieldsGroupIncorrect(t)},fieldProgress:function e(t,i){this.fieldReset(t,i);if(!this.spinner){this.spinner=new a(s.extend({},s.clone(n),{className:"field-box_spinner"}))}this.spinner.spin(t.get(0));if(!i||!i.keepEnabled){t.find("input, select, textarea").attr("disabled","disabled")}},fieldReset:function e(t,i){t.find("field-box_progress:disabled").removeAttr("disabled");t.removeClass("field-box_correct field-box_incorrect field-box_progress");t.find(".field-box__right-elem").removeClass("hidden");if(t.attr("data-label-text")){t.addClass("field-box_label-text")}if(this.spinner){this.spinner.stop(t.get(0))}this.getErrorHolder(t,i).find('span.field-box__error[data-id="'+this.getContextId(t)+'"]').remove();this.fieldsGroupReset(t)},onCapitalizeEvent:function e(t){this.capitalize(t)},capitalize:function e(t){var i=t.currentTarget.value;if(i.length<=1||t.type==="input"&&this.prevCapitalizeEvt==="paste"){var n=i.charAt(0);if(n!==n.toUpperCase()){t.currentTarget.value=o.capitalize(i)}}this.prevCapitalizeEvt=t.type},getContextId:function e(t){return t.attr("data-id")||t.attr("data-id",s.uniqueId("autoId_")).attr("data-id")},getErrorHolder:function e(t,i){if(i&&typeof i.errorHolder!=="undefined"){return i.errorHolder}return t},onUpdateField:function e(t){if(t.currentTarget.dataset.capitalize!==undefined){this.capitalize(t)}this.$(t.currentTarget).toggleClass("empty",t.currentTarget.value.length===0)},getInputAdditional:function e(t){return Object.keys(t).reduce((function(e,i){e[i]=parseInt(t[i],10)===0||!t[i]||t[i].length===0?"empty":"";return e}),{})},getFieldsGroup:function e(t){var i=t.closest("._fields-group-part");var n=t.closest("._fields-group");return n&&i?n.add(i):n||i},handleUpdateFieldFocus:function e(t){var i=this.getFieldsGroup(this.$(t.currentTarget));if(i){i.toggleClass("focus",t.type==="focusin")}},fieldsGroupIncorrect:function e(t){if(t.length===0){return}var i=this.getFieldsGroup(t);if(i){i.addClass("invalid")}},fieldsGroupReset:function e(t){if(t.length===0){return}var i=this.getFieldsGroup(t);if(i){if(i.find(".field-box_correct").length===0){i.removeClass("invalid")}}}}},557:function(e,t,i){"use strict";(function(e){var n=i(4);var s=i(31);var a=[];var o=function e(t){if(!t||!t.length){return undefined}var i=t.attr("id").split("g-recaptcha-response-");return i[1]?i[1]:undefined};var r=function t(i){if(!e.browser||!window.grecaptcha){return}var n=o(i);try{grecaptcha.reset(n)}catch(s){}};t.reset=r;t.injectScript=function(){return new Promise((function(t,i){if(!e.browser){i()}else if(window.grecaptcha){t()}else if(a.length===0){a.push(t);window.onloadRecaptchaCallback=function(){a.forEach((function(e){return e()}));a=[]};s({id:"recaptcha",async:true,src:n.client.recaptcha.apiUrl+"?onload=onloadRecaptchaCallback&render=explicit"})}else{a.push(t)}}))};t.render=function(e){return new Promise((function(t,i){if(e){try{grecaptcha.render(e);t()}catch(n){i(n)}}else{i()}}))}}).call(this,i(16))},565:function(e,t,i){"use strict";var n=i(2);var s=i(639);var a=n.extend({getQueryParams:function e(){return this.pick(Object.keys(this.defaults))},parse:function e(t){this.handleErrors(t);return{}}});Object.assign(a.prototype,s);e.exports=a},577:function(e,t,i){"use strict";var n=i(0);var s=i(17),a=s.$;var o=i(1760);var r=i(556);var l=i(1763);var c=i(546);var u=i(572);var d=i(554);i(1764);var h=o.sort((function(e,t){return e.country_name>t.country_name?1:-1}));var f=c.extend({name:"PhoneNumber",el:false,template:l,templateSelection:n.template('<i class="callingcodeselector-cc callingcodeselector-cc-selection"><%= label %></i>'+'<i class="callingcodeselector-flag callingcodeselector-flag-selection flag <%= flag %>"></i>'),templateResult:n.template('<div class="callingcodeselector-row">'+'<span class="callingcodeselector-col callingcodeselector-col-left">'+'<i class="callingcodeselector-cn callingcodeselector-cn-item"><%= name %></i>'+"</span>"+'<span class="callingcodeselector-col callingcodeselector-col-middle">'+'<i class="callingcodeselector-cc callingcodeselector-cc-item">+<%= phone %></i>'+"</span>"+'<span class="callingcodeselector-col callingcodeselector-col-right">'+'<i class="callingcodeselector-flag callingcodeselector-flag-selection flag <%= flag %>"></i>'+"</span>"+"</div>"),required:false,phone:"",placeholder:"Phone",phoneFieldName:"phone",anDisallowedCharsRegex:/[^\d -]/gim,preDefineCode:true,events:{click:"onClick","click .phonenumber-cc":"onCallingCodeClick","blur .phonenumber-an":"onBlur","focus .phonenumber-an":"onFocus","paste .phonenumber-an":"onPasteCleanAN","keydown .phonenumber-an":"onKeyDownPreventNonAllowedKeys","keyup .phonenumber-an":"onKeyUpPreventNonAllowedKeysAndUpdateCCFromAN","change .phonenumber-an":"onChange"},globals:{click:"handleDocumentClick"},initialize:function e(){this.on("change",this.setCompiledNumber.bind(this))},getCountriesData:function e(t){var i=[];var n={};h.forEach((function(e){var s={code:e.country_code,title:e.country_name,phoneCode:e.phoneCode,flag:"flag-"+e.country_code.toLowerCase(),selected:e.phoneCode===t};if(s.selected){n=s}i.push(s)}));return{list:i,selected:n}},serialize:function e(){var t;if(this.phone){t=u.parseNumber(this.phone,this.app)}else if(this.preDefineCode){var i=u.getContact(this.app)||{};var n=u.parseNumber(i.number,this.app)||{};t={code:n.code}}var s=this.getCountriesData(t&&t.code);return{countries:s.list,phone:t&&t.number||"",required:this.options.required,placeholder:this.options.required?this.placeholder+" *":this.placeholder,phoneFieldName:this.phoneFieldName,selectedCountry:s.selected}},getPhoneNumber:function e(){return this.$(".phonenumber-an").val()},getPhoneCode:function e(){return this.$(".phonenumber-cc-value").val()},setCompiledNumber:function e(){var t=!this.required||this.isValid()?this.getCompiledPhoneNumber():"";this.$("[name="+this.phoneFieldName+"]").val(t)},getCompiledPhoneNumber:function e(){return this.getPhoneCode()&&this.getPhoneNumber()?"+"+this.getPhoneCode()+this.getPhoneNumber():""},clientAfterRender:function e(){var t=this;i.e(136).then(function(e){var n=i(2050);t.initSelect2({helper:n})}.bind(null,i)).catch(i.oe)},initSelect2:function e(t){var i=this;var n=t.helper;var s=this.$(".phonenumber-cc");s.height((function(){var e=a(this);e.height(e.parent().height()-2)}));var o=n.getConfig(),r=o.dropdownAdapter,l=o.resultsAdapter;s.addClass("phonenumber-select2").select2({theme:"phonenumber",width:"100%",placeholder:"&mdash;",dropdownAutoWidth:true,preventWindowScroll:true,allowClear:false,minimumResultsForSearch:Infinity,templateSelection:this.select2SelectionTemplate.bind(this),templateResult:this.select2ResultTemplate.bind(this),dropdownAdapter:r,resultsAdapter:l,escapeMarkup:function e(t){return t},matcher:function e(t,i){if(!t.term||!t.term.trim()){return i}var n=i.text.trim().toLowerCase();var s=t.term.trim().toLowerCase();if(n.substr(0,1)===s.substr(0,1)){return i}return null}});this.$("._select-placeholder").remove();var c=this;s.on("select2:open",(function(){c.opened=true;c.onFocus();a(this).data("select2").$dropdown.width(s.closest(".phonenumber").outerWidth());s.find(".select2").height((function(){var e=a(this);e.height(e.closest(".phonenumber-cell").height())}))}));s.on("select2:close",(function(){i.opened=false;i.onBlur()}));s.on("select2:select",(function(){a(this).blur();c.focusAbonentNumberInput()}));s.on("change",this.updateCCFromCC.bind(this));this.updateCCFromCC()},select2SelectionTemplate:function e(t){if(!t.id){return t.text}var i=t.element.getAttribute("data-cc");var n=i?"+"+i:"&#8212;&nbsp;&nbsp;&nbsp;";return this.templateSelection({label:n,flag:t.element.getAttribute("data-flag")})},select2ResultTemplate:function e(t){return!t.id||!t.element?t.text:this.templateResult({name:t.text,phone:t.element.getAttribute("data-cc"),flag:t.element.getAttribute("data-flag")})},onPasteCleanAN:function e(){var t=this;var i=this.$(".phonenumber-an");var n=i.attr("maxlength");i.removeAttr("maxlength");clearTimeout(this.pasteTimer);this.pasteTimer=setTimeout((function(){t.cleanAN();i=t.$(".phonenumber-an");var e=t.getAN();i.attr("maxlength",n);e=e.replace(/[^\d-]/gi,"");t.setAN(e.length>n?e.substring(0,n):e)}),30)},onKeyDownPreventNonAllowedKeys:function e(t){if([r.deleteKey,r.backspace,r.tab,r.esc,r.enter,r.space].includes(t.which)||!t.shiftKey&&[r.dash,r.subtract,173].includes(t.which)||t.ctrlKey===true||t.metaKey===true||t.which>=r.end&&t.which<=r.down||t.altKey&&t.shiftKey){return}if((t.shiftKey||t.which<r.digit0||t.which>r.digit9)&&(t.which<r.numDigit0||t.which>r.numDigit9)){t.preventDefault()}},onKeyUpPreventNonAllowedKeysAndUpdateCCFromAN:function e(t){var i=this;clearTimeout(this.keyupTimer);this.keyupTimer=setTimeout((function(){if(t.which===r.alt){i.cleanAN()}}),30)},onChange:function e(){if(this.required){this.validateAndHighlight()}this.trigger("change",this)},cleanAN:function e(){var t=this.getAN();var i=this.cleanANValue(t);if(t!==i){this.setAN(i)}},cleanANValue:function e(t){return(!t&&t!==0?"":t).toString().replace(this.options.anDisallowedCharsRegex,"")},updateCCFromCC:function e(){var t=this.getCCSelected();this.setCCValue(t);this.trigger("change",this)},getCCSelected:function e(){return this.$(".phonenumber-cc :selected").attr("data-cc")},getAN:function e(){return this.$(".phonenumber-an").val()},setAN:function e(t){this.$(".phonenumber-an").val(t)},getCCValue:function e(){return this.$(".phonenumber-cc-value").val()},setCCValue:function e(t){this.$(".phonenumber-cc-value").val(t)},handleDocumentClick:function e(){if(this.opened){this.$(".phonenumber-cc").select2("close");this.onBlur()}},onCallingCodeClick:function e(){this.onFocus();return false},onClick:function e(){this.resetHighlight();return false},focusAbonentNumberInput:function e(){this.$(".phonenumber-an").focus()},resetHighlight:function e(){this.fieldReset(this.$el)},highlightInvalid:function e(){this.fieldIncorrect(this.$el)},highlightValid:function e(){this.fieldCorrect(this.$el)},validateAndHighlight:function e(){var t=this.isValid();if(t){this.highlightValid()}else{this.highlightInvalid()}return t},params:function e(){var t=this.getCCValue();return{callingCode:t==="NONE"?"":t,abonentNumber:this.getAN()}},value:function e(){var t=this.params();return""+t.callingCode+t.abonentNumber},isValid:function e(){var t=this.params();if(this.options.required){return t.callingCode&&t.abonentNumber}return!t.abonentNumber||!!t.callingCode},onFocus:function e(){this.$el.addClass("phonenumber-focused")},onBlur:function e(){this.$el.removeClass("phonenumber-focused")}});Object.assign(f.prototype,d);e.exports=f},578:function(e,t,i){"use strict";var n=i(0);var s=i(546);var a=i(28);var o=i(11);var r=10;var l="none";var c=100;var u=300;var d=16;e.exports=s.extend({name:"Tabs",el:false,schema:[],subSchema:[],preventDefaultAction:false,urlLessTabs:false,menuUnderline:false,classNames:"",active:"",subActive:"",serializeData:{},events:{"click ._tab":"onTabClick","mouseenter ._tab":"onTabMouseEnter","mouseleave ._tab":"onTabMouseLeave","touchend ._scroll":"onScrollTouchEnd","click ._nav-left":"onNavLeftClick","click ._nav-right":"onNavRightClick"},globals:{"resize window":"onWindowResize"},initialize:function e(){this.schema=new a(n.result(this,"schema"));this.defineActiveTab();this.subSchema=new a(n.result(this,"subSchema"));this.prepareSubTabs();this.listenTo(this.schema,"change update",this.render)},serialize:function e(){return Object.assign({},{classNames:this.classNames,urlLessTabs:this.urlLessTabs,scheme:this.getEnabled().map((function(e){return e.serialize()})),subScheme:this.subSchema.serialize(),isRendered:this.isRendered},this.serializeData)},clientAfterRender:function e(){if(this.menuUnderline){this.setDefaultMenuUnderline()}if(this.isScrollPositionSet){this.setScrollPosition();this.$("._scroll").removeClass("invisible")}this.updateNavigation();this.isRendered=true},onWindowResize:n.throttle((function(){if(this.menuUnderline){this.setDefaultMenuUnderline()}if(this.isScrollPositionSet){this.setScrollPosition()}this.updateNavigation()}),r),onTabClick:function e(t){var i=t.currentTarget.dataset.key;var n=this.schema.findWhere({key:i});if(n&&n.get("onClick")){n.get("onClick").call(null,t);return}var s;if(this.preventDefaultAction||n&&n.get("toggler")||n&&n.get("active")||n&&n.get("isDefault")===true&&this.schema.findWhere({toggler:true,active:true})){t.preventDefault()}if(n&&n.get("toggler")&&n.get("active")){i=this.schema.findWhere({isDefault:true}).get("key");s=n.get("key")}if(n&&n.get("target")!=="_blank"){this.setActiveTab(i,s)}},onTabMouseEnter:function e(t){if(!this.menuUnderline){return}var i=this.$(t.currentTarget);var n=i.offset().left-this.$el.offset().left;this.menuUnderlinePosition(n,i.outerWidth())},onTabMouseLeave:function e(){if(this.schema.where({active:true}).length>0){var t=this.schema.findWhere({pseudoActive:true});if(t){t.set({pseudoActive:false})}}if(this.menuUnderline){this.setDefaultMenuUnderline()}},onScrollTouchEnd:function e(){this.updateNavigation()},onNavLeftClick:function e(){var t=this;var i=this.$("._scroll").scrollLeft();this.$("._scroll").animate({scrollLeft:Math.max(i-c,0)},u,(function(){return t.updateNavigation()}))},onNavRightClick:function e(){var t=this;var i=this.$("._scroll").scrollLeft();this.$("._scroll").animate({scrollLeft:i+c},u,(function(){return t.updateNavigation()}))},updateNavigation:function e(){var t=this.$("._scroll");if(t.length===0){return}var i=this.$("._tab:last");var n=i.offset().left+i.width()-d;this.$("._nav-left").toggleClass("active",t.scrollLeft()>d);this.$("._nav-right").toggleClass("active",n>t.width())},setDefaultMenuUnderline:function e(){var t=this.$("._tab-active");var i=t.offset().left-this.$el.offset().left;this.menuUnderlinePosition(i,t.outerWidth())},menuUnderlinePosition:function e(t,i){this.$("._menu-underline").css({left:t,width:i}).removeClass("hidden")},setScrollPosition:function e(){var t=this.$("._active");if(t.length===0){return}var i=t.offset().left;if(i+t.outerWidth()>window.innerWidth){this.$("._scroll").scrollLeft(i)}},defineActiveTab:function e(){var t=this;this.schema.each((function(e){var i=e.get("active")!=null?e.get("active"):t.defineTabActivityByProperty(e);if(t.active===l){i=false}e.set({url:t.app.makeUrl(e.get("urlKey")||e.get("key")||""),active:i!=null?i:t.defineTabByUrl(e),enabled:n.isUndefined(e.get("enabled"))||e.get("enabled")===true||n.isFunction(e.get("enabled"))&&e.get("enabled")(t.app.user)})}));if(this.shouldForceSetActive()){var i=this.schema.findWhere({isDefault:true})||this.schema.first();if(i){this.setActiveTab(i.get("key"),undefined,{silent:true})}}},shouldForceSetActive:function e(){return this.active!==l&&(!this.getActiveTab()||!this.getActiveTab().get("enabled"))},prepareSubTabs:function e(){var t=this;this.subSchema.each((function(e){return e.set({url:t.app.makeUrl(e.get("urlKey")||e.get("key")||""),active:e.get("key")===t.subActive,enabled:n.isUndefined(e.get("enabled"))||e.get("enabled")===true||n.isFunction(e.get("enabled"))&&e.get("enabled")(t.app.user)})}))},defineTabActivityByProperty:function e(t){return this.active&&this.active.length?t.get("key")===this.active:null},defineTabByUrl:function e(t){var i=this.app.makeUrl(t.get("key"));return!!i&&(this.app.parsedUrl.pathname===i||!t.get("isDefault")&&o.isBelongTo(i+"/",this.app.parsedUrl.pathname+"/"))},reset:function e(t){this.setActiveTab(t||this.schema.first().get("key"))},setActiveTab:function e(t,i,n){if(this.schema.findWhere({key:t}).get("active")){return}if(this.getActiveTab()){this.getActiveTab().set({active:false})}this.schema.findWhere({key:t}).set({active:true});if(i){this.schema.findWhere({key:i}).set({pseudoActive:true})}if(!n||!n.silent){this.changeTabCallback(this.getActiveTab())}},getActiveTab:function e(){return this.schema.findWhere({active:true})},getActiveTabIndex:function e(){return this.schema.indexOf(this.getActiveTab())},getEnabled:function e(){return this.schema.where({enabled:true})},changeTabCallback:function e(){}})},639:function(e,t,i){"use strict";var n=i(0);e.exports={handleErrors:function e(t){if(!t){return}var i=this.getResponseErrors(t);if(n.size(i)){this.validationError=i;this.trigger("invalid",this,i,{validationError:i})}},getResponseErrors:function e(t){var i=this;var s={};if(!t||!t.errors||!this.errorsMap){return null}n.each(t.errors,(function(e){var t=i.errorsMap[e.error_code]||i.errorsMap.byDefault;if(!s[t]){s[t]=[]}s[t].push(e.error_code+":"+e.error_message)}));return s}}},659:function(e,t,i){"use strict";(function(t){var n=i(0);var s=i(4);var a=t.browser?i(75):null;var o=i(549);var r=i(565);var l=i(687),c=l.injectGoogleScript;var u=i(688),d=u.injectFacebookScript;var h=3005;var f=function(){function e(e){var t=this;this.app=e.app;this.lang=s.languages.default;this.el=e.el||document;this.model=new r([],{defaults:{code:null,accessToken:null,email:null,__utmz:null,signup_type:null,dp_unbounce_url:null,condition:true}});this.cb=e.onAuthCallback;this.model.defaults=this.model.options.defaults;this.model.getRespErrors=function(e){return e.errors};this.model.set({__utmz:a.get("__utmz"),unbounce_url:a.get("unbounce_url"),signup_type:e.app.chain.name==="download"?"signup_download":"signup_direct"},{silent:true});this.model.listenTo(this.model,"sync",(function(e,i){if(i&&!i.errors&&i.sessionid){var n=i.userid&&i.isNew?"Track:UE:SignUp:Success":"Track:UE:Login:Success";t.app.observer.broadcast(n,{userId:i.userid,action:"Social",label:t.actionName==="google"?"Google":"Facebook"});if(t.cb){t.cb();return}t.onAuthCallback()}}));this.model.listenTo(this.model,"invalid error",(function(i,n){var s=n.errors&&n.errors[0]||{};if(s.error_code===h){var a={data:i.attributes,callback:t.proceedWithAuthorisation.bind(t)};if(t.actionName==="google"){a.callback=function(){gauth2.grantOfflineAccess({redirect_uri:"postmessage"}).then(t.googleOnSuccess.bind(t));t.setAccessCondition((function(){return true}));t.app.observer.fire("SignUp:SocialEmailHide")}}t.app.observer.fire("SignUp:SocialConditionShow",a)}else if(s.error_message){new o({app:t.app,title:"Login Error: "+s.error_code,message:s.error_message.replace("%s",e.app.makeUrl("contact_us"))}).show()}}))}var t=e.prototype;t.setLang=function e(t){this.lang=t||this.lang};t.setAccessCondition=function e(t){this.accessCondition=t};t.injectFacebookScript=function e(){var t=this;return d(this.lang).then((function(){return t.listenToFacebookButton()}))};t.listenToFacebookButton=function e(){var t=this;var i=this.el.querySelectorAll("._social-facebook");if(typeof FB!=="undefined"&&i.length>0){i.forEach((function(e){if(typeof e.getAttribute("data-fb-init")!=="string"){e.addEventListener("click",t.executeFacebook.bind(t),false)}e.setAttribute("data-fb-init","")}))}};t.executeFacebook=function e(){if(!this.hasAccess()){return}if(typeof FB==="undefined"){this.injectFacebookScript().then(this.executeFacebookLogin)}else{this.executeFacebookLogin()}};t.executeFacebookLogin=function e(){var t=this;FB.login((function(e){if(e.authResponse&&e.authResponse.accessToken){t.isFacebookEmailAllowed().then((function(i){var s=n.clone(e.authResponse);s.url="facebookLogin";t.actionName="facebook";if(!i){t.socialFirstGetEmail(s)}else{t.proceedWithAuthorisation(s)}}))}}),{scope:"email,publish_actions,public_profile,user_friends,user_hometown"})};t.socialFirstGetEmail=function e(t){this.app.observer.fire("SignUp:SocialEmailShow",{data:t,callback:this.proceedWithAuthorisation.bind(this)})};t.isFacebookEmailAllowed=function e(){return new Promise((function(e){try{FB.api(s.social.facebook.version+"//me/permissions",(function(t){if(t&&!t.error&&t.data){t.data.forEach((function(t){if(t.permission==="email"&&t.status==="granted"){return e(true)}return null}))}return e(false)}))}catch(t){return e(false)}return null}))};t.injectGoogleScript=function e(){var t=this;return c(this.lang).then((function(){return t.listenToGoogleButton()}))};t.listenToGoogleButton=function e(){var t=this;var i=this.el.querySelectorAll("._social-google");if(typeof gapi!=="undefined"&&gapi.signin2&&i.length>0){i.forEach((function(e){if(e.id.search("google-login-")===-1){e.id="google-login-"+Math.random();e.addEventListener("click",(function(){if(!t.hasAccess()){return}gauth2.grantOfflineAccess({redirect_uri:"postmessage"}).then(t.googleOnSuccess.bind(t))}),false)}}))}};t.googleOnSuccess=function e(t){this.actionName="google";this.proceedWithAuthorisation({url:"googleLogin",code:t.code})};t.proceedWithAuthorisation=function e(t){this.model.url=t.url;this.model.set(Object.assign({condition:typeof this.accessCondition==="function"&&this.accessCondition()},t),{silent:true});this.model.fetch();this.app.observer.fire("SignUp:SocialEmailHide")};t.socialLogout=function e(t){this.model.url=t+"Logout";this.model.fetch()};t.hasAccess=function e(){return!(typeof this.accessCondition==="function"&&!this.accessCondition())};t.onAuthCallback=function e(){this.app.chain.tempUserAfterLoginCommonLogic()};return e}();e.exports=f}).call(this,i(16))},661:function(e,t,i){},687:function(e,t,i){"use strict";var n=i(31);var s=i(4);var a=null;var o=function e(t){if(!a){a=new Promise((function(e){var i={en:"en_US",ru:"ru",de:"de",fr:"fr",sp:"es",it:"it",pt:"pt_PT",pl:"pl",nl:"nl"};var a=i[t]?i[t]:"en_US";window.___gcfg={lang:a};if(typeof gapi!=="undefined"){return e()}n({async:true,src:"https://apis.google.com/js/platform.js?onload=googleAsyncInit"});window.googleAsyncInit=function(){gapi.load("auth2",(function(){window.gauth2=gapi.auth2.init({client_id:s.social.google.clientId,scope:"profile email"})}));return e()};return null}))}return a.then((function(){a=null}))};e.exports={injectGoogleScript:o}},688:function(e,t,i){"use strict";var n=i(31);var s=i(4);var a=null;var o=function e(t){if(!a){a=new Promise((function(e){if(typeof FB!=="undefined"){return e()}var i={en:"en_US",ru:"ru_RU",de:"de_DE",fr:"fr_FR",sp:"es_LA",it:"it_IT",pt:"pt_PT",pl:"pl_PL",nl:"nl_NL"};var a=i[t]?i[t]:"en_US";n({id:"facebook-jssdk",async:true,src:"//connect.facebook.net/"+a+"/sdk.js"});window.fbAsyncInit=function(){FB.init({appId:s.social.facebook.appId,version:s.social.facebook.version,cookie:true,logging:!s.isProduction,status:true});return e()};return null}))}return a.then((function(){a=null}))};e.exports={injectFacebookScript:o}},750:function(e,t,i){"use strict";var n=i(2);var s=i(24);var a=function e(t){var i=t.toFixed(0),n=i.length;if(n<4){return(t/1e3).toFixed(4-n)}return Math.round(t/("1e"+(n-1)))*("1e"+(n-4))};e.exports=n.extend({defaults:{filesType:"total",files:53714430,customers:4890333,contributors:58682,freeItems:5e4,curatedItems:5e5},url:"MarketStats",getQueryParams:function e(){return{type:this.get("filesType")}},parse:function e(t){return{filesType:t.itemType,files:parseInt(t.count,10)||this.defaults.files,customers:parseInt(t.customers,10)||this.defaults.customers,contributors:parseInt(t.contributorsCount,10)||this.defaults.contributors,freeItems:parseInt(t.freeItemsCount,10)||this.defaults.freeItems,curatedItems:parseInt(t.curatedItemsCount,10)||this.defaults.curatedItems}},serialize:function e(){return{files:s.numberFormat(this.get("files")),customers:s.numberFormat(this.get("customers")),contributors:s.numberFormat(this.get("contributors")),millionFiles:Math.floor(this.get("files")/1e6),millionCustomers:Math.ceil(this.get("customers")/1e6),thousandsContributors:s.numberFormat(Math.floor(this.get("contributors")/1e3)*1e3),thousandsFreeItems:a(this.get("freeItems")),thousandsCuratedItems:a(this.get("curatedItems"))}}})},764:function(e,t,i){"use strict";(function(t){var n=i(749).mobile.responsive;var s=i(560);e.exports={setMatchMedia:function e(i){if(t.browser&&!this.matchMedia){this.matchMedia=window.matchMedia("(max-width: "+n.mobileBig+"px)");this.matchMediaCallback=function(){return i()};this.matchMedia.addListener(this.matchMediaCallback);this.listenTo(this.app.observer,"Responsive:ClearMatchMedia",this.clearMatchMedia)}},clearMatchMedia:function e(){if(this.matchMedia&&this.matchMediaCallback){this.matchMedia.removeListener(this.matchMediaCallback);this.matchMedia=undefined}},isMobileModeEnabled:function e(){return this.app.device.isMobile||(t.browser?s.mobileMode():this.isMobileMode)}}}).call(this,i(16))},775:function(e,t,i){"use strict";(function(t){i(801);var n=i(802);var s=i(546);var a=i(803);e.exports=s.extend({name:"SignupCondition",el:false,template:n,defaultCondition:{membership_agreement:false,news:false},texts:{},events:{"change ._checkbox":"onCheckboxChange"},initialize:function e(){this.model=new a([],{app:this.app});this.listenTo(this.model,"sync",this.activateCheckbox);this.listenTo(this.signUpModel,"invalid",this.showErrors)},prepareRender:function e(){if(this.isExtended()){this.setDefaultCondition()}},serialize:function e(){return{schema:this.getSchema(),isExtended:this.isExtended(),conditionText:this.conditionText}},isExtended:function e(){return this.app.features.isFeatureOnValue("Show Sign Up Condition")},getSchema:function e(){var t=this;var i=[];var n=this.getTexts();Object.keys(this.defaultCondition).forEach((function(e){i.push({name:e,checked:t.defaultCondition[e],text:n[e]})}));return i},getTexts:function e(){return Object.assign({membership_agreement:this.tr('I agree to the <a class="%s" href="%s" target="_blank">Membership Agreement</a>.',["link-blue",this.app.makeUrl("member-agreement")]),news:this.tr("I’d like to receive newsletters and special offers.")},this.texts)},setDefaultCondition:function e(){var t=this;Object.keys(this.defaultCondition).forEach((function(e){t.model.save({key:e,value:t.defaultCondition[e]?1:0});t.signUpModel.set(e,t.defaultCondition[e])}))},onCheckboxChange:function e(t){var i=t.currentTarget.getAttribute("name");this.$(t.currentTarget).prop("disabled",true);this.model.save({field:i,value:t.currentTarget.checked?1:0});this.signUpModel.set(i,t.currentTarget.checked);this.clearError()},activateCheckbox:function e(t){var i=this.$("._checkbox").filter('[name="'+t.get("field")+'"]');if(i.length>0){i.prop("disabled",false)}},showErrors:function e(i,n){var s=this;if(!t.browser){return}Object.keys(n).forEach((function(e){if({}.hasOwnProperty.call(s.defaultCondition,e)){s.showError(Array.isArray(n[e])?n[e][0]:n[e])}}))},showError:function e(t){this.$("._error").text(this.tr(t));this.onErrorCallback()},clearError:function e(){this.$("._error").text("")},onErrorCallback:function e(){}})}).call(this,i(16))},798:function(e,t,i){"use strict";(function(t){var n=i(0);var s=i(4);var a=i(114),o=a.signupLegacyParams;var r=i(73),l=r.userErrors;var c=i(556);var u=i(546);var d=i(872);var h=i(24),f=h.serializeForm;var p=i(74);var g=i(554);var b=i(557);var m=1e3;var v=u.extend({name:"AuthForm",el:false,validationDelay:{},validationQuery:{},liveValidation:false,displayValidationErrorMessages:true,uniqueFields:["username","email"],events:{submit:"onSubmit","keypress input":"onInputKeyPress","input input":"onInputInput","focus input":"onInputFocus","focus select":"onInputFocus","change select":"onInputInput","change ._field":"onUpdateField","keyup ._field":"onUpdateField","input ._field":"onUpdateField","paste ._field":"onUpdateField"},initialize:function e(){this.checkUnique=new d;this.listenTo(this.model,"invalid",this.handleModelInvalid);this.listenTo(this.checkUnique,"invalid",this.handleCheckUniqueInvalid)},serialize:function e(){var t={countries:this.countries?this.countries.serialize():{},links:{signUp:this.app.makeUrl("signup",{protocol:"https:",backURL:true})},errors:this.errors,submitButton:this.submitButton,fieldData:this.model.serialize(),captcha:{show:this.isCaptchaNeeded(),siteKey:s.client.recaptcha.publicKey}};if(this.model.validation.username){n.extend(t,{usernameMaxLength:n.find(this.model.validation.username,(function(e){return n.has(e,"maxLength")})).maxLength})}return t},clientAfterRender:function e(){var t=this;this.fillLegacyParams();if(this.isCaptchaNeeded()&&!this.$(".g-recaptcha-response").length){b.injectScript().then((function(){return b.render(t.$(".g-recaptcha")[0])}))}},fillLegacyParams:function e(){var t=this;o.toRead.forEach((function(e){t.model.set(e,p.get(e),{silent:true})}))},purgeLegacyParams:function e(){o.toRemove.forEach((function(e){p.set(e,"",{path:"/",expires:new Date})}))},onInputInput:function e(t){var i=this;if(!this.liveValidation){return}var s=t.currentTarget,a=s.name,o=s.value;this.resetField(a);clearTimeout(this.validationDelay[a]);this.validationDelay[a]=n.delay((function(){delete i.validationDelay[a];i.validateField(a,o)}),m)},onInputFocus:function e(t){this.resetField(t.currentTarget.name)},onInputKeyPress:function e(t){if(t.which===c.enter){this.onSubmit(t)}},onSubmit:function e(t){t.preventDefault();this.clearValidationQuery();this.resetErrors();this.submit()},submit:function e(){var t=f(this.$el);t.signup_type=this.app.chain.name==="download"?"signup_download":"signup_direct";if(this.$(".g-recaptcha-response").length&&!t["g-recaptcha-response"]){this.fieldIncorrect(this.$(".g-recaptcha-response").parent(),{errorMessage:"Please check the ReCaptcha check box."});return}this.auth(t)},auth:function e(t){var i=this;this.model.save(t,{success:function e(t,n){if(typeof n.userid!=="undefined"){i.purgeLegacyParams();i.trackAuthResponse(n);i.onAuthCallback(n)}else if(n.loginUrl){i.onAuthCallback(n)}else{b.reset(i.$(".g-recaptcha-response"))}}})},validateField:function e(t,i){if(!i){return}var n=this.model.preValidate(t,i);if(n.length){this.showFieldError(t,n)}else{this.resetField(t);if(this.uniqueFields.indexOf(t)!==-1){this.validateUnique(t,i)}else{this.showFieldCorrect(t)}this.model.set(t,i,{silent:true})}},validateUnique:function e(t,i){var n=this;this.progressField(t);var s="u"+Math.random();this.validationQuery[t]=s;this.checkUnique.save({name:t,value:i},{success:function e(i,a){if(n.validationQuery[t]===s&&!a.errors){n.showFieldCorrect(t)}}})},handleModelInvalid:function e(i,s){var a=this;this.errors=s;if(!t.browser){return}this.model.set("g-recaptcha-response","");n.each(s,(function(e,t){var i;var s=n.isArray(e)?n.first(e):e;if(typeof s==="string"){var o=s.split(":");i=o[0];s=o[1]}if(Object.values(l).includes(+i)){b.injectScript().then((function(){return b.render(a.$(".g-recaptcha")[0])}))}if(i&&!s){s=i}a.showFieldError(t,s)}))},handleCheckUniqueInvalid:function e(i,s){var a=this;if(s===void 0){s=[]}if(!t.browser){return}n.each(s,(function(e){a.showFieldError(i.get("name"),e.error_message)}))},showFieldCorrect:function e(t){this.fieldCorrect(this.$('[name="'+t+'"]').parent())},showFieldError:function e(t,i){this.fieldIncorrect(this.getFieldElForError(t),{errorMessage:this.displayValidationErrorMessages&&i})},getFieldElForError:function e(t){return this.$('[name="'+t+'"]').parent()},progressField:function e(t){this.fieldProgress(this.$('[name="'+t+'"]').parent(),{keepEnabled:true})},resetErrors:function e(){var t=this;this.$("input, select").each((function(e){return t.fieldReset(t.$(e).parent())}));this.fieldReset(this.$(".g-recaptcha-response").parent())},resetField:function e(t){this.fieldReset(this.$('[name="'+t+'"]').parent())},clearValidationQuery:function e(){n.each(this.validationDelay,(function(e){clearTimeout(e)}))},isCaptchaNeeded:function e(){return this.app.store.get("UserBanInfo")&&this.app.store.get("UserBanInfo").get("registerNewUser")},trackAuthResponse:function e(t){var i=t.userId;this.app.observer.broadcast("Track:UE:SignUp:Success",{userId:i,action:"Form",label:"Regular"})},onAuthCallback:function e(){this.app.chain.tempUserAfterLoginCommonLogic(true)}});Object.assign(v.prototype,g);e.exports=v}).call(this,i(16))},801:function(e,t,i){},802:function(e,t,i){"use strict";e.exports=function e(t){var i=typeof _encodeHTML!=="undefined"?_encodeHTML:function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return(e==null?"":""+e).replace(i,(function(e){return t[e]||e}))}}();var n='<div class="signup-condition">';if(t.isExtended){n+='<div class="signup-condition__wrap"><div class="signup-condition__error _error"></div>';var s=t.schema;if(s){var a,o=-1,r=s.length-1;while(o<r){a=s[o+=1];n+='<div class="signup-condition__field-box"><label class="signup-condition__field field-box checkbox-box checkbox-box-m checkbox-box-line"><input class="checkbox _checkbox" type="checkbox" name="'+i(a.name)+'"';if(a.checked){n+=' checked="checked"'}n+=' /><i class="icon icon-checkbox icon-checkbox-m"></i><span class="checkbox-text">'+a.text+"</span></label></div>"}}n+="</div>"}else{n+='<div class="signup-condition__text">';if(t.conditionText){n+=""+t.conditionText+" *"}else{n+=""+this.tr('By clicking Register Account or signing up using the Facebook or Google you agree to the <a class="link-blue" href="%s" target="_blank">Membership Agreement</a>',this.app.makeUrl("member-agreement"))+" *"}n+="</div>"}n+="</div>";return n}},803:function(e,t,i){"use strict";var n=i(2);e.exports=n.extend({url:"SignupCondition",defaults:{field:"",value:null}})},835:function(e,t,i){"use strict";var n=i(556);var s=i(1018);var a=i(1019);var o=i(0);var r=i(17);var l=i(546);var c=i(552);var u=i(555);var d=i(777);var h=4e3;var f=l.extend({el:false,template:s,isOpened:false,destroyOnHide:false,closeOnOverlayClick:true,overlayOpacity:null,overlayBgColor:null,closeOnEscapeBtn:true,lockInnerScroll:false,single:false,draggable:false,noBorder:false,showHeader:true,showTitle:true,roundCloseButton:false,leftBtn:false,rightBtn:false,zIndex:h,modalClasses:"",bodyClasses:"",title:"",lockBodyScroll:true,body:[],escKeys:[n.esc],footer:[{selector:"",label:"OK",color:"blue",hide:true,defaultAction:true,callback:function e(){}}],events:{"click ._overlay":"onOverlayClick","click ._close":"onCloseClick","click ._btn":"onModalButtonClick","click ._left-arrow-button":"onLeftArrowClick","click ._right-arrow-button":"onRightArrowClick"},globals:{keypress:"onKeypress","resize window":"onWindowResize"},initialize:function e(){if(!this.showHeader){this.showTitle=false}this.listenTo(this.app.observer,{"Modal:HideAll":this.observeHideAll.bind(this),"Modal:HideByName":this.handleHideByName.bind(this)})},getOverlaySchema:function e(){return[{key:"opacity",value:this.overlayOpacity},{key:"background-color",value:this.overlayBgColor}]},getOverlayStyle:function e(){return this.getOverlaySchema().filter((function(e){return e.value!==null})).map((function(e){return e.key+": "+e.value})).join("; ")},setOverlay:function e(){var t=l.extend({name:"ModalOverlay",el:false,template:a,styleString:this.getOverlayStyle(),serialize:function e(){return{styleString:this.styleString}}});this.setView(new t,true)},prepareRender:function e(){this.setOverlay();this.fillModalBody()},serialize:function e(){return{modalClasses:this.modalClasses,bodyClasses:this.bodyClasses,noBorder:!!this.noBorder,showTitle:this.showTitle,showHeader:this.showHeader,roundCloseButton:this.roundCloseButton,title:this.title,footer:this.footer,leftBtn:this.leftBtn,rightBtn:this.rightBtn,lockInnerScroll:this.lockInnerScroll}},clientAfterRender:function e(){this.setZindex();if(this.draggable){this.enableDraggable()}if(this.footer.length){c(this.$el.find("._footer"),r.$);u(this.$("._btn"))}},fillModalBody:function e(){if(!this.body.length&&typeof this.body!=="function"||this.getView("._body")){return}this.setViews({"._body":typeof this.body==="function"?this.body():this.body})},getModalRegisterId:function e(){return{id:this.cid}},show:function e(t){var i=this;if(t===void 0){t={}}this.app.observer.fire("Tooltip:GlobalHide",{cid:"all"});if(this.single){this.app.observer.fire("Modal:HideAll",{cid:this.cid})}if(!{}.hasOwnProperty.call(t,"shouldTrackModalShow")){t.shouldTrackModalShow=true}Object.assign(this,t);if(!this.isOpened){this.beforeShowCallback()}if(this.lockBodyScroll){this.bodyScrollLock()}this.render().promise().then((function(){i.onShowCallback();i.isOpened=true}))},hide:function e(){if(!this.isOpened){return}this.onHideCallback(this);this.$el.remove();this.undelegateEvents();this.isOpened=false;this.bodyScrollUnlock();if(this.destroyOnHide){this.remove()}this.onAfterHideCallback()},onCloseClick:function e(t){t.stopPropagation();this.onHide()},onOverlayClick:function e(t){t.stopPropagation();if(this.closeOnOverlayClick&&t.target===t.currentTarget){this.onHide()}},onModalButtonClick:function e(t){t.stopPropagation();t.preventDefault();this.executeButtonAction(t.currentTarget)},onKeypress:function e(t){if(this.isOpened&&t.target.tagName.toLowerCase()!=="textarea"&&t.keyCode===n.enter){var i=this.footer.find((function(e){return e.defaultAction===true}));this.executeButtonAction(i)}},executeButtonAction:function e(t){var i=this.footer[r.$(t).index()];if(!o.isObject(i)){return}if(o.isFunction(i.callback)){i.callback(this,t)}if(o.isFunction(this[i.callback])){this[i.callback](this,t)}if(i.hide){this.onHide()}},onTouchEndCallback:function e(t){t.stopPropagation();this.onHide()},observeHideAll:function e(t){if(t.cid!==this.cid){this.onHide()}},handleHideByName:function e(t){var i=t.name;if(this.name===i){this.onHide()}},setZindex:function e(){this.$el.css({zIndex:this.zIndex})},enableDraggable:function e(){var t=this;d.initDragNDrop();this.$el.find("._modal").draggable({handle:"._drag-handler",scroll:false,create:function e(i,n){t.$el.addClass("modal-container_lock-scroll")}})},isOpen:function e(){return this.isOpened},bodyScrollLock:function e(){this.setScrollGlitchSuppressor();this.enableScrollCompensator();r.$("html, body").addClass("lock-scroll")},bodyScrollUnlock:function e(){this.removeScrollGlitchSuppressor();this.disableScrollCompensator();r.$("html, body").removeClass("lock-scroll")},enableScrollCompensator:function e(){if(r.$(document).height()<=r.$(window).height()){return}var t=r.$(document.body);var i=r.$(document.head);var n=r.$('<div style="width: 100%; height: 50px; overflow: scroll;">').appendTo("body");var s=n[0].offsetWidth-n[0].clientWidth;n.remove();if(s>0){i.append('<style data-id="scroll-compensator" type="text/css">\n\t\t\t\t\t.scroll-compensator {\n\t\t\t\t\t\tpadding-right: '+s+"px;\n\t\t\t\t\t}\n\t\t\t\t</style>");document.documentElement.style.setProperty("--scroll-holder-width",s+"px","");t.addClass("scroll-compensator")}},disableScrollCompensator:function e(){r.$('[data-id="scroll-compensator"]').remove();r.$(document.body).removeClass("scroll-compensator");document.documentElement.style.setProperty("--scroll-holder-width","0","")},getFixedHeightRules:function e(){return"height: "+r.$(document).height()+"px !important;"},setScrollGlitchSuppressor:function e(){var t=r.$(document.body);var i=r.$(document.head);i.append('<style data-id="fixed-height" type="text/css">\n\t\t\t\t.fixed-height {\n\t\t\t\t\t'+this.getFixedHeightRules()+"\n\t\t\t\t}\n\t\t\t</style>");t.addClass("fixed-height")},removeScrollGlitchSuppressor:function e(){r.$('[data-id="fixed-height"]').remove();r.$(document.body).removeClass("fixed-height")},onHide:function e(){},onWindowResize:function e(){},beforeShowCallback:function e(){},onShowCallback:function e(){},onHideCallback:function e(){},onLeftArrowClick:function e(){},onRightArrowClick:function e(){},onAfterHideCallback:function e(){},onAnimationComplete:function e(){}});e.exports=f},837:function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};if(t%2){n(Object(i),true).forEach((function(t){a(e,t,i[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(i))}else{n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}}return e}function a(e,t,i){if(t in e){Object.defineProperty(e,t,{value:i,enumerable:true,configurable:true,writable:true})}else{e[t]=i}return e}i(1026);var o=i(1027);var r=i(1028),l=r.hash,c=r.calculateHash,u=r.formaterHash;var d=i(546);e.exports=d.extend({name:"CountdownTimer",el:false,template:o,distance:0,format:"HH-MM-SS",units:{},shouldShowLabels:false,initialize:function e(){var t=this;this.fillUnits();this.endTimestamp=Date.now()/1e3+this.distance;this.countdown=setInterval((function(){return t.render()}),1e3)},remove:function e(){clearInterval(this.countdown)},serialize:function e(){return s({},this.formatData(this.calculateData()),{shouldShowLabels:this.shouldShowLabels})},fillUnits:function e(){var t=this;this.format.split("-").forEach((function(e){var i=e.toLowerCase();var n=l[i];if(!n){return}t.units[n]={formater:u[e]}}))},formatData:function e(t){var i=this;var n={};Object.keys(t).forEach((function(e){n[e]=i.units[e].formater?i.units[e].formater(t[e]):t[e]}));return n},calculateData:function e(){var t=this;var i={};var n=this.endTimestamp-Date.now()/1e3;if(n<0){n=0;clearInterval(this.countdown);this.finishCallback()}Object.keys(this.units).forEach((function(e){i[e]=Math.floor(c[e]({distance:n,units:t.units}))}));return i},finishCallback:function e(){}})},868:function(e,t,i){"use strict";var n=i(114);var s=i(565);e.exports=s.extend({url:"Signup",isHttps:true,defaults:n.SignupUser.defaults,errorsMap:n.SignupUser.errorsMap,validation:n.SignupUser.validation})},872:function(e,t,i){"use strict";var n=i(0);var s=i(2);e.exports=s.extend({url:"checkUnique",defaults:{name:null,value:null},parse:function e(t){if(t.errors&&t.errors.length){this.validationError=t.errors;this.trigger("invalid",this,t.errors,{validationError:t.errors})}return n.pick(t,Object.keys(this.defaults))}})},881:function(e,t,i){"use strict";e.exports=function(e){e.$button.insertAfter(e.$target);if(!e.$target.val()){e.$button.hide()}e.$button.on({"mousedown.passwordSwitcher":function t(i){i.preventDefault();i.stopPropagation();e.$target.attr("type",e.$target.attr("type")==="password"?"text":"password");if(!e.isIconSwitch){e.$button.text(e.text[e.$target.attr("type")==="password"?"show":"hide"])}}});e.$target.on({"input.passwordSwitcher":function t(){e.$button.toggle(!!e.$target.val())}})}}}]);